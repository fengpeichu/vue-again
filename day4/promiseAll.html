<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        function getEle(img) {
            new Promise((resolve, reject) => {
                // console.log(img)
                let imgs = new Image();
                imgs.onload = () => {
                    console.log(imgs)
                    resolve(imgs)
                };
                imgs.onerror = () => {
                    console.log(1)
                    reject('图片接受有误')
                }
                imgs.src = `../img/${img.img}`;
            })
        };
        let data = [{
            img: '1.jpg'
        }, {
            img: '2.jpg'
        }];
        let somes = data.map((item) => {
            return getEle(item)
        });
        console.log(somes);
        Promise.all(somes).then(() => {
            console.log('成功');
        }).catch(() => {
            console.log('失败');
        })
    </script>
</body>

</html>